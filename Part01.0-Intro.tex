\chapterimage{pano-tv1.png} % Chapter heading image
\cleardoublepage

\lgf{\chapter{LES BASES DE L'INTERNET DES OBJETS (IOT)}}
\lge{\chapter{THE BASIS OF THE INTERNET OF THINGS (IOT)}}


\section{Introduction}

  \vspace{1em}
 \begin{wrapfigure}{r}{3cm}
\Youtube{https://youtu.be/9edD2jEF3vM}
\end{wrapfigure}

 \lgf{Dans cette première partie du cours, nous allons poser les bases de ce qu'est l'internet des objets (\ac{IoT} in english). Qu'est-ce qu'on entend par \ac{IoT} dans le cadre de livre~? Quelles sont les problématiques auxquelles doit répondre l'\ac{IoT} et son évolution aujourd'hui~? Quelles sont les technologies, les architectures, les protocoles sous-jacents qui seront utilisés dans cet ouvrage~?}
 \lge{In this first part of the course, we will lay the foundations of what the Internet of Things (IoT) is. What do we mean by "Internet of Things" in the context of the book? What are the issues that the Internet of Things must address and its evolution today? What are the underlying technologies, architectures and protocols that will be used in this book?}
 
 \lgf{Pour cela, nous allons faire un parallèle entre la manière dont l'internet a intégré la télévision et ce que l'on vit actuellement avec l'internet des Objets.}
 \lge{To do this, we will draw a parallel between the way the Internet has integrated television and what we are currently experiencing with the Internet of Things.}
 
 \lgf{\subsection{Réseaux dédiés}}
 \lge{\subsection{Dedicated networks}}
   \vspace{1em}

\begin{wrapfigure}{r}{6cm}
\centerline{\includegraphics[width=.4\columnwidth]{Pictures/illu-propa.png}}
\end{wrapfigure}

\lgf{Dans les années 50, la télévision est devenue très populaire et presque tous les foyers ont acheté un téléviseur pour regarder leurs programmes préférés. Des réseaux de transmission dédiés ont été déployés partout sur la planète. En fait chaque type de communication avait son propre réseau un pour la radio un pour le téléphone un pour le télex,...}
\lge{In the 1950s, television became very popular and almost every household bought a television set to watch their favorite programs. Dedicated transmission networks were deployed all over the world. In fact each type of communication had its own network one for radio one for telephone one for telex,...}
 
\lgf{Dans les années 80, l'internet a vu le jour, mais les vitesses de transmission était faible et le réseau était limitée aux chargements de fichiers. Dans les années 90, des images et l'hypermédia avec le \ac{WWW} sont apparus, en lien avec l'augmentation des débits. Toujours dans les années 90, l'augmentation en puissance des microprocesseurs a permis la numérisation du signal télé. Les téléviseurs ont commencé à inclure des microprocesseurs et les réseaux sont passés d'une transmission analogique au numérique ; mais ils sont restés dédié à cet usage unique diffuser la télévision. Avec l'entrée dans le nouveau millénaire, l'internet a gagné en débit avec l'\ac{ADSL} et des fibres optiques. Il était possible d'intégrer des images dans les pages web mais la qualité était médiocre. Au même moment des centaines de canaux de télévision diffusaient en haute résolution leur programme via satellite ou par \ac{TNT}. De nos jours les communications internet ont gagné en vitesse et en qualité et certains pays ont coupé la \ac{TNT} et choisi de ne transmettre leurs programmes que par internet. En fait l'utilisation d'internet n'est pas uniquement un changement de réseau de distribution c'est aussi un changement majeur dans les usages et les applications. Vous pouvez regarder la télévision sur votre téléphone portable ou même regarder votre série favorite quand vous le voulez, à la demande. }
\lge{In the 80's, the internet was born, but the transmission speeds were low and the network was limited to file uploads. In the 90s, images and hypermedia with the \ac{WWW} appeared, in connection with the increase of the speeds. Also in the 90s, the increase in power of microprocessors allowed the digitization of the TV signal. Televisions started to include microprocessors and the networks went from analog to digital transmission; but they remained dedicated to this single use broadcasting television. With the entry in the new millennium, the Internet gained in speed with the \ac{ADSL} and optical fibers. It was possible to integrate images in web pages but the quality was poor. At the same time, hundreds of television channels were broadcasting their programs in high resolution via satellite or \ac{DTT}. Nowadays, Internet communications have gained in speed and quality and some countries have cut off DTT and chosen to transmit their programs only via Internet. In fact the use of the internet is not only a change in the distribution network but also a major change in the uses and applications. You can watch television on your cell phone or even watch your favorite series whenever you want, on demand.}



  \vspace{2em}

\lgf{\subsection{3 phases technologiques}}
\lge{\subsection{3 technological phases}}

   \vspace{1em}

\begin{wrapfigure}{r}{6cm}
\centerline{\includegraphics[width=.4\columnwidth]{Pictures/illu-verticals.png}}
\end{wrapfigure}
\lgf{De cet exemple, on peut définir trois phases dans le développement d'une technologie. Dans la première phase, un réseau spécifique est construit pour un usage bien défini. On appelle cela une approche \Index{verticale} ; une technologie est dédiée à un seul usage. Il est difficile d'échanger de l'information entre deux verticales. On fait aussi référence à des \Index{silos} car ils sont isolés. Dans une seconde phase, les verticales commencent à intégrer des technologies communes mais pas d'une manière coordonnée. Elles ne peuvent toujours pas communiquer facilement car elles n'ont pas fait les mêmes choix.}
\lge{From this example, we can define three phases in the development of a technology. In the first phase, a specific network is built for a well-defined use. This is called a \Index{vertical} approach; a technology is dedicated to a single use. It is difficult to exchange information between two verticals. We also refer to \Index{silos} because they are isolated. In a second phase, the verticals start to integrate common technologies but not in a coordinated way. They still cannot communicate easily because they have not made the same choices.}

~

\begin{wrapfigure}{r}{6cm}
\centerline{\includegraphics[width=.4\columnwidth]{Pictures/ill-horizontales.png}}
\end{wrapfigure}
\lgf{Dans une dernière phase, des verticales se coordonnent pour converger vers les mêmes technologies en définissant des règles et des usages communs. Ceci dans le but de réduire les coûts ou d'augmenter leur impact dans ce cas. On parle d'horizontal\index{Horizontale} car elle couvre plusieurs secteurs. L'internet est devenu une de ces horizontales pour beaucoup de services. L'internet des objets suit ce même mouvement. Des solutions particulières ont émergé pour résoudre des besoins spécifiques en agriculture, dans l'automobile, dans la santé, dans l'énergie. Quand les réseaux internet ont permis des communications à faible coût, l'architecture de l'internet a été prise en compte mais sans compatibilité. Le changement qu'on vit actuellement est la définition de fonctionnalités communes à différents domaines. Le but étant de réduire les coûts mais également de croiser les informations pour une meilleure gestion du processus industriel et un meilleur usage des ressources.}
\lge{In a final phase, verticals coordinate to converge on the same technologies by defining common rules and uses. This is done in order to reduce costs or to increase their impact in this case. We talk about \Index{horizontal} because it covers several sectors. The Internet has become one of these horizontals for many services. The Internet of Things follows this same movement. Particular solutions have emerged to solve specific needs in agriculture, in the automotive industry, in health, in energy. When Internet networks allowed low cost communications, the architecture of the Internet was taken into account but without compatibility. The change we are currently experiencing is the definition of common functionalities for different domains. The goal is to reduce costs but also to cross information for a better management of the industrial process and a better use of resources.}
 

  \vspace{2em}

\lgf{\section{L'Internet des Objets}}
\lge{\section{The Internet of Things}}


  \vspace{1em}
  
\lgf{Comment définir l’internet des objets~? Ou plutôt, quel internet des objets allons-nous étudier~? L’ambiguïté des deux termes "internet" et "objets" impose une définition plus précise ; ou du moins une classification pour mieux comprendre à quoi l’on fait référence.}
\lge{How do we define the Internet of Things? Or rather, which Internet of Things are we going to study? The ambiguity of the two terms "Internet" and "Things" requires a more precise definition; or at least a classification to better understand what we are referring to.}

  \vspace{1em}


\lgf{L’internet est maintenant totalement intégré dans nos vies, pour le travail, l’enseignement, pour les distractions. On l’utilise à la maison ou au travail sur nos ordinateurs, et on l'emporte avec nous de plus en plus avec nos smartphones. }
\lge{The internet is now totally integrated in our lives, for work, for education, for entertainment. We use it at home or at work on our computers, and we carry it with us more and more with our smartphones. }

\lgf{Chacun a sa définition de ce qu’est internet. Pour le grand public, il peut s’agir d’applications très populaires comme Facebook, Tik-Tok, Netflix, Zoom. Pour certains, un peu plus technophiles, l’internet peut être confondu avec le Web auquel on accède via Chrome ou Firefox. Les techniciens parleront de protocoles comme IP, TCP, HTTP, et d’adresses comme les adresses IP ou les URL.}
\lge{Everyone has their own definition of what the internet is. For the general public, it can be very popular applications like Facebook, Tik-Tok, Netflix, Zoom. For some, a little more technophile, the Internet can be confused with the Web which is accessed via Chrome or Firefox. Technicians will talk about protocols like IP, TCP, HTTP, and addresses like IP addresses or URLs.}

~~

\lgf{Comme ce livre est orienté technologie, notre approche relève plutôt de cette dernière catégorie. Nous verrons comment des protocoles développés il y a une vingtaine d’années pour des ordinateurs peuvent s’appliquer à d’autres dispositifs qu’il nous reste à définir.}
\lge{As this book is technology-oriented, our approach falls more into the latter category. We will see how protocols developed twenty years ago for computers can be applied to other devices that we have yet to define.}


\lgf{L'objectif de l'internet des Objets est de poursuivre l'intégration du réseau Internet pour permettre à autre chose que des ordinateurs d'échanger des données. Le but principal est d'optimiser les processus pour qu'ils soient plus efficaces pour économiser des ressources ou d'augmenter la productivité. Il s'agit donc d'un internet enfoui, loin du frigo ou de la montre connectés, qui vont remonter des informations avec une infrastructure ou d'autres équipements. On peut imaginer des capteurs dans une usine pour contrôler la production, des voitures connectées qui vont dialoguer pour éviter les collisions, la mesure du taux de remplissage des bennes de recyclage dans une ville pour optimiser les circuits de collecte, la surveillance du degré d'humidité d'un champ pour réduire la consommation d'eau...}
\lge{The goal of the Internet of Things is to further integrate the Internet to allow something other than computers to exchange data. The main goal is to optimize processes so that they are more efficient to save resources or increase productivity. It is therefore a buried internet, far from the fridge or the connected watch, which will bring back information with an infrastructure or other equipment. We can imagine sensors in a factory to control production, connected cars that will talk to each other to avoid collisions, measuring the filling rate of recycling bins in a city to optimize collection circuits, monitoring the degree of humidity in a field to reduce water consumption...}


\lgf{L’internet des Objets peut se résumer de la manière suivante : utiliser des protocoles développés pour des ordinateurs et maintenant des téléphones portables (plus puissants que les ordinateurs utilisés par l’internet à ses débuts) mais dans des environnements plus contraints. En effet, les lois de Moore, définissant les puissances de traitement des processeurs ainsi que la diminution continue des coûts de la mémoire, nous ont permis de doter les petits objets de ressources comparables à celles des ordinateurs d’il y a trente ans.}
\lge{The Internet of Things can be summarized as follows: using protocols developed for computers and now cell phones (more powerful than the computers used by the Internet in its early days) but in more constrained environments. Indeed, Moore's laws, defining the processing power of processors as well as the continuous decrease of memory costs, have allowed us to provide small objects with resources comparable to those of computers of thirty years ago.}

\lgf{L’internet des Objets, c’est résoudre l’équation suivante : continuer à faire la même chose car tous les systèmes d’information actuels utilisent les mêmes principes mais le faire différemment car ces principes sont trop coûteux en énergie, en temps de calcul et échange de données.}
\lge{The Internet of Things means solving the following equation: continue to do the same thing because all current information systems use the same principles but do it differently because these principles are too costly in terms of energy, computing time and data exchange.}

\lgf{L’\ac{IoT}, l’internet des objets ou des choses, est une architecture globale permettant à des objets (équipements de même type ou non), d’interagir de manière autonome via internet. Cette interaction~:}
\lge{The \ac{IoT} is a global architecture allowing objects (equipment of the same type or not) to interact autonomously via the Internet. This interaction:}

\begin{itemize}
    \item 
        \lgf{est réalisée, par construction, au travers d’un réseau internet, ce qui implique généralement que les objets/choses soient pourvus d’une adresse IP~;}
        \lge{is realized, by construction, through an Internet network, which generally implies that the objects/things are provided with an IP address;}
        
    \item 
        \lgf{est relatif à des commandes (opérations de contrôles ou appels de fonctions) ou des échanges de données ou d’informations.}
        \lge{is related to commands (control operations or function calls) or data or information exchanges.}
\end{itemize}

  \vspace{1em}


\lgf{Ce nouveau paradigme \ac{STIC} qu’est l’IoT est une convergence de nombreux domaines d’applications tels que : les maisons ou bâtiments intelligents, les villes du futur, l’industrie du futur (industrie 4.0), l’énergie, les systèmes de transport, l’agriculture, la eSanté, etc., vers une suite protocolaire réduite, interopérable et sécurisée. Le mouvement est en marche et, vu le nombre d'acteurs concernés, va prendre plusieurs années. Mais les bases sont déjà bien établies et c'est ce que vous allez apprendre dans cet ouvrage.}
\lge{The new IoT paradigm is a convergence of many application domains such as: smart homes or buildings, cities of the future, industry of the future (industry 4.0), energy, transportation systems, agriculture, eHealth, etc., towards a reduced, interoperable and secure protocol suite. The movement is underway and, given the number of players involved, will take several years. But the foundations are already well established and that's what you'll learn in this book.}

 \vspace{2em}
 
\lgf{\section{Le problème}}
\lge{\section{The problem}}

  \vspace{1em}

\lgf{Un des problèmes que rencontre l’internet des objets, c’est que l’IoT ne démarre pas ex-nihilo. Maintenant que les technologies qui ont fait le succès de l'Internet sont matures, il ne s'agit pas juste de les appliquer à un nouveau domaine. Des objets étaient capables de communiquer bien avant qu’internet n’existe. Chaque secteur a déjà développé ses solutions, plus ou moins standards, plus ou moins propriétaires.}
\lge{One of the problems with the Internet of Things is that the IoT doesn't start ex-nihilo. Now that the technologies that made the Internet successful are mature, it's not just a matter of applying them to a new domain. Objects were able to communicate long before the Internet existed. Each sector has already developed its solutions, more or less standard, more or less proprietary.}


\lfg{La figure~\vref{fig-bazar} reprend un certain nombre de travaux et de groupes qui spécifient les protocoles pour l’internet des objets. }
\lge{The figure~\vref{fig-bazar} lists a number of works and groups that specify protocols for the Internet of Things. }


\begin{figure}[tbp]
\centerline{\includegraphics[width=1\columnwidth]{Pictures/IOTBazar_Domaines.jpeg}}
\lgf{\caption{Quelques standards de l'IoT}}
\lge{\caption{Some IoT standards}}
\label{fig-bazar}
\end{figure}

\lgf{Sans entrer dans les détails, on voit que certains logos se retrouvent à plusieurs emplacements, qu’il y a pour chaque secteur une profusion de solutions qui nuisent à l’interopérabilité et aux évolutions. L’internet des objets, dans son acception la plus large, consiste à simplifier cette architecture, comme l’internet l'a fait il y a quelques années dans le domaine des télécoms en simplifiant ce modèle et en permettant à ces différents acteurs de converger vers une architecture commune et un ensemble de solutions plus réduit.}
\lge{Without going into detail, we can see that some logos are found in several places, that there is a profusion of solutions for each sector that hinders interoperability and evolution. The Internet of Things, in its broadest sense, is about simplifying this architecture, just as the Internet did a few years ago in the telecoms sector, by simplifying this model and enabling these different players to converge on a common architecture and a smaller set of solutions.}

\lgf{Cela ne veut pas nécessairement dire moins d’acteurs, mais une plus grande cohérence dans les choix technologiques.}
\lge{This does not necessarily mean fewer players, but greater consistency in technological choices.}

\lgf{La figure~\vref{fig-bazar-OS} analyse l’IoT par domaine d’application en se focalisant sur la composante réseau. L’IoT et les objets connectés sont des systèmes complexes pour lesquels les solutions open source, les alliances entre industriels, les organismes de standardisation sont toujours fragmentés ; cependant de manière moins importante, montrant que la structuration est en marche.}
\lge{The figure~\vref{fig-bazar-OS} analyzes the IoT by application domain, focusing on the network component. IoT and connected objects are complex systems for which open source solutions, alliances between manufacturers, and standardization bodies are still fragmented; however, to a lesser extent, showing that structuring is underway.}

\begin{figure}[tbp]
\centerline{\includegraphics[width=1\columnwidth]{Pictures/IOTBazar_OpenSources.jpeg}}
\lgf{\caption{Quelques applications Open Source pour l'IoT}}
\lge{\caption{Some open source applications for the IoT}}

\label{fig-bazar-OS}
\end{figure}

\lgf{Cette fragmentation de l’écosystème est paradoxale. Si l’on résume sommairement, les solutions proposées reviennent à interroger un équipement sur le terrain pour accéder à une valeur, la traiter et renvoyer une commande pour interagir avec l’environnement.}
\lge{This fragmentation of the ecosystem is paradoxical. If we summarize, the proposed solutions amount to interrogating a piece of equipment in the field to access a value, process it and send back a command to interact with the environment.}

\lgf{Pourquoi cette foison de solutions différentes~? Cela peut venir des besoins de fiabilité, de sécurité, de portée de la donnée, mais cela vient aussi de l’histoire. La communication avec des Objets est tout aussi ancienne que la communication entre ordinateurs (qui sont eux-mêmes des Objets). Mais à l’époque, chaque domaine a suivi sa propre voie en spécialisant les solutions pour répondre à ses besoins propres. Il en résulte des solutions optimisées pour un domaine particulier. Mais chaque fois qu’il faut modifier une technologie, le travail doit être adapté pour chaque domaine, introduisant des coûts et des délais supplémentaires.}
\lge{Why are there so many different solutions? It may come from the needs of reliability, security, data scope, but it also comes from history. Communication with Things is just as old as communication between computers (which are themselves Things). But at the time, each field went its own way, specializing solutions to meet its own needs. The result is solutions optimized for a particular domain. But every time a technology has to be modified, the work has to be adapted for each domain, introducing additional costs and delays.}

\lgf{De même, chaque domaine ayant sa propre représentation des données, il est relativement difficile de les combiner pour avoir une vision plus globale. On arrive donc à des systèmes fermés, chers, peu évolutifs, mais optimisés pour les tâches qu’ils ont à réaliser.}
\lge{Also, since each domain has its own data representation, it is relatively difficult to combine them to have a more global vision. We therefore end up with closed systems, expensive, not very scalable, but optimized for the tasks they have to perform.}


\lgf{Au fil du temps, les protocoles de l’internet ont pu être utilisés, mais il s’agit surtout de complémenter les technologies existantes sans qu’il soit possible d’interconnecter deux domaines.}
\lge{Over time, the protocols of the Internet could be used, but it is mainly a matter of complementing existing technologies without it being possible to interconnect two domains.}



  \vspace{2em}

\lgf{\section{Evolution de l'IoT}}
\lge{\section{IoT evolution}}


  \vspace{1em}

\lgf{L’exemple de l’évolution du réseau de télévision est éloquent. À ses débuts, ce réseau est analogique et hautement spécialisé pour diffuser les programmes transportés sur des signaux analogiques sur des équipements spécialisés, les téléviseurs.}
\lge{The example of the evolution of the television network speaks for itself. At the beginning, this network was analog and highly specialized to broadcast programs carried on analog signals on specialized equipment, the television sets.}

\lgf{Avec les progrès des processeurs informatiques, il devient possible de transporter les données en utilisant un codage numérique. Mais des réseaux spécialisés restent nécessaires, l’Internet n’offrant pas la même qualité.}
\lge{With the progress of computer processors, it becomes possible to transport data using digital coding. But specialized networks are still needed, as the Internet does not offer the same quality.}



\lgf{La dernière étape consiste à intégrer ces flux dans l’internet classique. Cela devient possible par la montée en débit des réseaux filaires et radio (Wi-Fi, 4G...). }
\lge{The last step consists in integrating these flows into the traditional Internet. This becomes possible by increasing the speed of wired and radio networks (Wi-Fi, 4G...). }


\lgf{Cette mutualisation des accès via l’internet permet non seulement une réduction des coûts, mais aussi l'apparition de nouveaux usages comme la télévision sur les téléphones portables ou les séries à la demande.}
\lge{This pooling of accesses via the Internet allows not only a reduction of costs, but also the appearance of new uses such as television on cell phones or series on demand.}

\lgf{L’internet des Objets suit la même voie. En plus des technologies spécifiques, les protocoles de l’internet sont intégrés, mais en les adaptant aux contextes du secteur.  Nous sommes actuellement en train de vivre la convergence vers un ensemble réduit de protocoles, une standardisation de la représentation de la donnée, et son traitement sur des plates-formes plus génériques. }
\lge{The Internet of Things follows the same path. In addition to specific technologies, the protocols of the Internet are integrated, but adapted to the contexts of the sector.  We are currently experiencing the convergence towards a reduced set of protocols, a standardization of data representation, and its processing on more generic platforms.}

\lgf{Le déclencheur n’est pas la montée en débit comme pour la télévision, mais la possibilité d'avoir des équipements peu chers, aux capacités réduites par rapport à l'informatique traditionnelle et autonomes énergétiquement, tout en ayant une meilleure intégration dans les systèmes d'information actuels.  }
\lge{The trigger is not the increase in speed as for television, but the possibility of having inexpensive equipment, with reduced capacities compared to traditional computing and energy autonomous, while having a better integration in the current information systems.  }


  \vspace{2em}

\lgf{\section{Des objets contraints}}
\lge{\section{Constrained objects}}


  \vspace{1em}

\lgf{Avec les progrès de l’électronique, les processeurs deviennent de plus en plus puissants et les super-ordinateurs d’hier sont maintenant dans une montre ou un smart-phone. }
\lge{With the progress of electronics, processors are becoming more and more powerful and the supercomputers of yesterday are now in a watch or a smart-phone. }

\lgf{Pour l’internet des objets, la logique est un peu différente. La loi de Moore va induire une réduction des coûts de fabrication plutôt qu'une augmentation des puissances de traitement. Le principal critère pour un internet des objets massif reste l’énergie ; connecter un appareil à une source d’énergie ou recharger une batterie a un coût. Augmenter la vitesse du processeur ou la taille de la mémoire induit une plus grande consommation d’énergie de l'objet. On peut donc s’attendre à une certaine stabilité des performances des objets car ceux-ci resteront limités en performances.}
\lge{For the Internet of Things, the logic is a little different. Moore's Law will lead to a reduction in manufacturing costs rather than an increase in processing power. The main criterion for a massive Internet of Things remains energy; connecting a device to a power source or recharging a battery has a cost. Increasing the speed of the processor or the size of the memory induces a higher energy consumption of the object. We can therefore expect a certain stability in the performance of the objects because they will remain limited in performance.}


\lgf{Les objets sont généralement limités en termes de puissance de traitement, de mémoire et d’énergie. Selon le standard de l’IETF \rfc{7228}, les dispositifs peuvent être répartis en trois classes qui se retrouvent aussi dans la segmentation des processeurs~:}
\lge{Objects are generally limited in terms of processing power, memory and energy. According to the IETF standard \rfc{7228}, devices can be divided into three classes that are also found in the segmentation of processors~:}

\begin{itemize}
\item 
    \lgf{La classe 0, avec moins de 10 ko de mémoire volatile pour stocker les données temporaires et 100 ko de mémoire Flash pour stocker le code informatique de l'objet. C'est l’équivalent d’un \Index{Arduino} UNO (2 ko de RAM et 32 ko de Flash). Il est presque impossible d’installer à la fois les protocoles utilisés pour communiquer sur Internet (même de manière restreinte) et les applications qui tournent dessus.}
    \lge{Class 0, with less than 10 kB of volatile memory to store temporary data and 100 kB of Flash memory to store the object's computer code. It is the equivalent of an \Index{Arduino} UNO (2 kB RAM and 32 kB Flash). It is almost impossible to install both the protocols used to communicate on the Internet (even in a restricted way) and the applications that run on it.}
    
\item 
    \lgf{La classe 1 a environ 10 Ko de RAM et 100 Ko de Flash. Avec une adaptation, il est possible d’y installer une pile IP. Il s'agit par exemple d'équipement comme le Pycom Lopy4 que nous utiliserons par la suite (et qui se situe dans la limite haute) sur lequel le système d'exploitation est minimal. Ainsi, le Pycom utilise une version simplifiée du langage Python (micro-python) qui permet de l'adapter à la limitation du système.}
    \lge{Class 1 has about 10 KB of RAM and 100 KB of Flash. With an adaptation, it is possible to install an IP stack. For example, equipment like the Pycom Lopy4 that we will use later (and which is in the upper limit) on which the operating system is minimal. Thus, the Pycom uses a simplified version of the Python language (micro-Python) which allows it to be adapted to the system's limitations.}
    
\item 
    \lgf{La classe 2 est moins restreinte avec au moins 50 ko de RAM et 250 ko de Flash (comme un \Index{Raspberry Pi}). Le système d’exploitation \Index{Linux} peut fonctionner sur ces appareils. Par conséquent, il y a peu de limitations sur la pile IP et les applications s’y exécutant.
    Les appareils de classe 1 ont trop de restrictions pour utiliser les protocoles définis pour des objets plus gros. L’\ac{IETF}, l'organisme qui standardise les protocoles de l'internet, a proposé une révision de sa pile de protocoles afin d’adapter sa pile protocolaire à un environnement contraint.}
    \lge{Class 2 is less restricted with at least 50k RAM and 250k Flash (like a \Index{Raspberry Pi}). The \Index{Linux} operating system can run on these devices. Therefore, there are few limitations on the IP stack and the applications running on it.
    Class 1 devices have too many restrictions to use the protocols defined for larger objects. The \ac{IETF}, the organization that standardizes Internet protocols, has proposed a revision of its protocol stack to adapt its protocol stack to a constrained environment.}
\end{itemize}


\lgf{La figure~\vref{fig-encap} résume les moyens d'interconnexion suivant la classe de l'objet~:}
\lge{Figure~\vref{fig-encap} summarizes the means of interconnection according to the class of the object:}

\begin{itemize}
    \item 
        \lgf{Un appareil de classe 0 ne peut pas utiliser directement l’internet pour échanger des informations, d’où la nécessité d’installer une passerelle pour capter le trafic et l’envoyer sur l’internet. Il ne possède pas directement d'adresse IP. Les passerelles LoRaWAN \ac{LNS} et \acs{3GPP} \ac{SCEF} agissent dans ce sens (nous reviendrons là-dessus). Les données produites sont encapsulées par ces passerelles dans des protocoles comme \ac{HTTP} ou \ac{MQTT}, que nous verrons également dans la suite du cours.}
        \lge{A class 0 device cannot directly use the internet to exchange information, hence the need to install a gateway to capture the traffic and send it to the internet. It does not have an IP address directly. The LoRaWAN gateways \ac{LNS} and \acs{3GPP} \ac{SCEF} act in this sense (we will come back to this). The data produced is encapsulated by these gateways in protocols such as \ac{HTTP} or \ac{MQTT}, which we will also see later in the course.}
    \item 
        \lgf{Les appareils de classe 1 peuvent aussi utiliser une passerelle pour s’interconnecter à l’internet traditionnel, mais plutôt que d'encapsuler les données produites dans d'autres protocoles comme le fait la classe 0, les passerelles pour les appareils de classe 1 vont traduire un protocole contraint dans son équivalent dans le monde non contraint.
        Les dispositifs de classe 2 peuvent interagir directement avec d’autres nœuds sur l’internet, sans passer par une passerelle.}
        \lge{Class 1 devices can also use a gateway to interconnect to the traditional internet, but rather than encapsulating the data produced in other protocols as Class 0 does, gateways for Class 1 devices will translate a constrained protocol into its equivalent in the unconstrained world.Class 2 devices can interact directly with other nodes on the Internet, without going through a gateway.}

\end{itemize}



\begin{figure}[tbp]
\centerline{\includegraphics[width=1\columnwidth]{Pictures/Encpasul.png}}
\lgf{\caption{Possibilités d'interconnection}}
\lge{\caption{Interconnection possibilities}}
\label{fig-encap}
\end{figure}

  \vspace{2em}

\lgf{\section{L'interopérabilité}}
\lge{\section{Interoperability}}


  \vspace{1em}

\lgf{Un autre défi concerne le nombre de dispositifs. Certaines études prévoient 500 milliards de dispositifs à la fin de la décennie.}
\lge{Another challenge is the number of devices. Some studies predict 500 billion devices by the end of the decade.}

  \vspace{1em}
 \begin{wrapfigure}{r}{3cm}
\Youtube{https://youtu.be/2TQiTskfZtc}
\end{wrapfigure}

\lgf{Avec cet énorme internet des objets, où presque chaque équipement comprendra des éléments de détection ou d’action, l’intégration dans un système d’information deviendra un véritable défi. Comme l’internet des objets actuel est conçu pour une verticale (c'est-à-dire pour des applications spécifiques), les dispositifs sont choisis et intégrés au moment de la conception du système. Les ingénieurs choisissent leurs capteurs, connaissent précisément leurs caractéristiques et écrivent leur code en fonction de ce qu'ils ont intégré. }
\lge{With this massive Internet of Things, where almost every piece of equipment will include sensing or actionable elements, integration into an information system will become a real challenge. Because today's Internet of Things is designed for a vertical (i.e., for specific applications), devices are chosen and integrated at the time of system design. Engineers choose their sensors, know exactly what their characteristics are, and write their code based on what they have integrated. }


\lgf{L’internet des objets massif change la donne. Les dispositifs ou les choses ne peuvent pas être intégrés dès le départ dans un système d’information statique. L’intégration doit se faire au fil du temps et doit gérer les évolutions des dispositifs pendant longtemps (les fabricants de dispositifs peuvent changer, les produits évolueront avec de nouvelles fonctionnalités, etc.)}
\lge{The massive Internet of Things is a game changer. Devices or things cannot be integrated into a static information system from the start. The integration has to happen over time and has to handle device evolutions for a long time (device manufacturers may change, products will evolve with new features, etc.).}

\lgf{L'internet qu'on connaît est une très bonne illustration du besoin d'interopérabilite. Il a permis, grace à une uniformisation du réseau et une force baisse des coûts de transmission, de développer de nouveaux usages. Vous n'auriez jamais investi pour un réseau propre à la vidéoconférence et au télétravail. Mais en mutualisant les usages, c'est possible ! L'internet des objets doit suivre la même voie et également converger vers l'architecture de l'internet actuel. Le mot clé est donc l'interopérabilité.  }
\lge{The Internet we know is a very good illustration of the need for interoperability. It has allowed, thanks to a standardization of the network and a strong decrease of the transmission costs, to develop new uses. You would never have invested in a network dedicated to videoconferencing and teleworking. But by pooling uses, it is possible! The Internet of Things must follow the same path and also converge with the architecture of the current Internet. The key word is interoperability.  }


\lgf{Cette question d’interopérabilité a été formalisée dans le modèle \ac{LCIM}~\cite{tolk2003levels} (voir figure~\vref{fig-lcim}) peut être représenté par un compteur pour mesurer le degré d'interopérabilité.}
\lge{This interoperability issue has been formalized in the model \ac{LCIM}~\cite{tolk2003levels} (see figure~\vref{fig-lcim}) can be represented by a counter to measure the degree of interoperability.}

\begin{figure}[tbp]
\centerline{\includegraphics[width=1\columnwidth]{Pictures/TPT2020.png}}
\lgf{\caption{Niveau d'interopérabilité}}
\lge{\caption{Level of interoperability}}
\label{fig-lcim}
\end{figure}


\lgf{Il distingue six niveaux d’interopérabilité, parmi lesquels~:}
\lge{It distinguishes six levels of interoperability, among which~:}

\begin{itemize}
     \item 
        \lgf{Au niveau zéro, on n'est pas connecté ; on ne parle à personne donc on n'a pas de problèmes d'interopérabilité. }
        \lge{At level zero, we are not connected; we don't talk to anyone, so we don't have interoperability problems. }
    \item  
        \lgf{Au niveau 1, on est capable de transmettre de l'information,  mais il faut que les deux côtés connaissent les règles. On a un système intégré ; les applications doivent  connaître précisément les spécifications des objets avec lesquels ils communiquent,  car elles définissent ses propres formats des échanges de données. On pourrait prendre l'exemple qu'une carte électrique où un processeur communique avec des capteurs via un circuit imprimé. Le code tournant sur le processeur peut être écrit à l'avance car il y a peu de chance qu'un utilisateur dessoude les composants pour les remplacer par d'autres. Cela correspond à l'encapsulation, si l'on considère les objets en réseau de la figure~\vref{fig-encap}, l'élément d'interconnexion doit être configuré pour en fonction de l'objet émetteur encapsuler les données vers la bonne application chez le bon récepteur. }
        \lge{At level 1, we are able to transmit information, but both sides must know the rules. We have an integrated system; the applications must know precisely the specifications of the objects with which they communicate, because they define their own data exchange formats. We could take the example of an electrical board where a processor communicates with sensors via a printed circuit. The code running on the processor can be written in advance because there is little chance that a user will loosen the components to replace them with others. This corresponds to encapsulation, if we consider the networked objects in figure~\vref{fig-encap}, the interconnecting element must be configured to encapsulate the data to the right application at the right receiver depending on the sending object. }
    \item 
        \lgf{L’interopérabilité syntaxique (niveau 2) où deux nœuds peuvent échanger des données, sans être a préalable configurés pour cet échange. C'est le cas de l'Internet. En utilisant cette suite de protocoles, en ayant une adresse valide sur le réseau, toute application est capable d'échanger des données avec une autre. En revanche, les données que vous allez échanger sont propres à une application. Les vidéoconférences sont un très bon exemple d'interopérabilité de niveau 2. Vous ne pouvez pas utiliser Zoom si votre correspondant utilise Teams car les formats sont différents. L'\ac{IETF}  est le regroupement de différents acteurs (industriels, académiques,...) qui produisent les standards liés à ce réseau. Il se reconnaissent par l'acronyme \ac{RFC} suivi d'un nombre. }
        \lge{Syntactic interoperability (level 2) where two nodes can exchange data without first being configured for this exchange. This is the case of the Internet. By using this suite of protocols, by having a valid address on the network, any application is able to exchange data with another. On the other hand, the data you will exchange is specific to an application. Video conferencing is a great example of Level 2 interoperability. You cannot use Zoom if your correspondent uses Teams because the formats are different. The \ac{IETF} is the grouping of different actors (industrial, academic,...) who produce the standards related to this network. It is recognized by the acronym \ac{RFC} followed by a number. }
    \item 
        \lgf{L’interopérabilité sémantique (niveau 3) implique que le récepteur est capable d'interpréter les données reçues. Le web est un très bon exemple d'interopérabilité de niveau 3. Quel que soit votre navigateur, vous pouvez afficher les pages d'un site web et suivre les liens. Le sens de l'information est compris de la même manière des deux côtés. Pour le Web, le format \ac{HTML} permet à l'aide de balises (mots-clés) de structurer un texte en y ajoutant des informations de formatage ou des liens vers d'autres documents. Le \ac{W3C} définit les standards.}
        \lge{Semantic interoperability (level 3) implies that the receiver is able to interpret the received data. The web is a very good example of level 3 interoperability. Whatever your browser, you can display the pages of a web site and follow the links. The meaning of the information is understood in the same way on both sides. For the Web, the format \ac{HTML} makes it possible using tags (keywords) to structure a text by adding formatting information or links to other documents. The \ac{W3C} defines the standards.}
        
     \item 
        \lgf{Les niveaux supérieurs d'interopérabilité vont être lié à la précision du modèle qui va représenter le système. }
        \lge{The higher levels of interoperability will be linked to the accuracy of the model that will represent the system. }
\end{itemize}



   \vspace{2em}

\lgf{\section{Le besoin de standardisation}}
\lge{\section{Le besoin de standardisation}}

  \vspace{1em}

\lgf{Les objets n'ont pas attendu l'internet pour communiquer. Ils ont évolué chacun dans leur verticale, développant des solutions satisfaisantes mais limitées en termes d'évolution et d'interopérabilité. Cet état des lieux sur la dispersion des écosystèmes met en avant la nécessité~:}
\lge{Objects did not wait for the Internet to communicate. They have each evolved in their own vertical, developing solutions that are satisfactory but limited in terms of evolution and interoperability. This report on the dispersion of ecosystems highlights the need to:}


\begin{itemize}
\item 
    \lgf{d’une coordination entre les alliances~;}
    \lge{coordination among the alliances;}
\item 
    \lgf{d’une harmonisation ou d’un alignement des standards~;}
    \lge{harmonization or alignment of standards;}
\item 
    \lgf{de disposer au plus vite d’implémentations de référence et de modèles de référence.}
    \lge{to have reference implementations and reference models as soon as possible.}
\end{itemize}

\lgf{Dans le cas contraire, l’interopérabilité ne pourra pas être traitée comme il se doit, les nouveaux services innovants multi-domaines ne seront pas couverts, et le développement de l’IoT pourrait être freiné voire avorté.}
\lge{Otherwise, interoperability will not be properly addressed, new innovative multi-domain services will not be covered, and the development of IoT could be stalled or even aborted.}


\lgf{Les aspects liés à l’éducation et à la formation des acteurs de l’IoT, ainsi que ceux liés à l’acceptation, aux usages et évidemment au volet socio-économique de l’IoT, sont aussi des points essentiels dont il faut tenir compte.}
\lge{Aspects related to education and training of IoT actors, as well as those related to acceptance, uses and obviously the socio-economic aspect of IoT, are also essential points that must be considered.}

\lgf{Les organismes de normalisation tels que l’\ac{IETF} ou le \ac{W3C} ont conçu des protocoles ou des modèles de données capables de traiter l’interopérabilité. D’une certaine manière, c’est la clé du succès de l’internet actuel. Il a permis de résoudre le problème de l’interopérabilité au niveau syntaxique et sémantique mais au prix de messages volumineux.}
\lge{Standards bodies such as the \ac{IETF} or the \ac{W3C} have designed protocols or data models capable of handling interoperability. In a way, this is the key to the success of the current Internet. It has solved the problem of interoperability at the syntactic and semantic level but at the cost of large messages.}


\lgf{Le défi pour l’internet des objets est de s’intégrer dans ce système distribué géant. Comme l’internet des objets est un nouveau venu, l’évolution devra se faire de son côté pour prendre en compte les règles existantes, mais en les adaptant. Les prochains chapitres traiteront de ces changements.}
\lge{The challenge for the Internet of Things is to integrate into this giant distributed system. As the Internet of Things is a newcomer, the evolution will have to be done on its side to take into account the existing rules, but adapting them. The next chapters will deal with these changes.}


\section{Questions}

\Question{\lgf{Nouveau Domaine}\lge{New Area}}
{\lgf{Les objets communicants sont un tout nouveau domaine, lié aux progrès en miniaturisation des composants électroniques~:}
\lge{Communicating objects are a brand new field, linked to the progress in miniaturization of electronic components~:}

\begin{itemize}[label=$\circ$]
\item \Wrong{\Vrai}
\item \Correct{\Faux}
\end{itemize}
 }{
 \lgf{Les objets communicants ont toujours existé, même avant le déploiement des protocoles de l'Internet. Ce qui est nouveau c'est leur intégration dans les architectures Internet actuelle pour mieux traiter l'information qu'ils produisent.}
 \lge{Communicating objects have always existed, even before the deployment of Internet protocols. What is new is their integration into current Internet architectures to better process the information they produce.}
 }
 
 \Question{\lgf{Protocoles}\lge{Protocoles}}
 {
 \lgf{Laquelle de ces affirmations est vraie ?}
 \lge{Which of these statements is true?}
\begin{itemize}[label=$\circ$]
\item \Wrong{
    \lgf{Il y a très peu de protocoles pour faire communiquer les Objets. Comme l'Internet est une technologie qui s'est très répondue, son succès va permettre aux objets de communiquer.}
    \lge{There are very few protocols to make objects communicate. As the Internet is a technology that has been very successful, its success will allow objects to communicate.}
    }
\item \Correct{ 
    \lgf{Il y a beaucoup de solutions pour permettre à des objets de communiquer, l'Internet des Objets doit permettre de les fédérer.}
    \lge{There are many solutions to enable objects to communicate, the Internet of Things must enable them to be federated.}
    }
\end{itemize}
 }
 {
 \lgf{Chaque métier a créé ses propres protocoles.}
 \lge{Each business has created its own protocols.}
 }
 
 
\Question{\lgf{Source de données}\lge{Source of data}}
{
\lgf{Quelle est la principale source de création des données dans l'IoT~?}
\lge{What is the primary source of data creation in the IoT?}
\begin{itemize}[label=$\circ$]
\item \Correct{\lgf{les capteurs}\lge{sensors}}
\item \Wrong{\lgf{les nano-ordinateurs (type Raspberry Pi)}\lge{nanocomputers (Raspberry Pi type)}}
\item \Wrong{Internet}
\item \Wrong{\lgf{les serveurs Web}\lge{Web servers}}

\end{itemize}
 }
 {
 \lgf{Les mesures effectuées par les capteurs constituent la principale source de création des données de l'IoT.}
 \lge{Measurements made by sensors are the primary source of IoT data creation.}
 }

\Question{\lgf{Défis}\lge{Challenges}}
{
\lgf{Quels sont les principaux défis technologiques pour l'Internet des Objets (3 réponses) ?}
\lge{What are the main technological challenges for the Internet of Things (3 answers)?}

\begin{itemize}[label=$\square$]
\item \Correct{
    \lgf{Avoir une consommation d'énergie faible.}
    \lge{Have a low energy consumption.}
    }
\item \Correct{
    \lgf{Avoir une architecture protocolaire simplifiée.}
    \lge{Have a simplified protocol architecture.}
    }
\item \Wrong{
    \lgf{Pouvoir fonctionner sur des systèmes d'exploitation ouverts comme Linux.}
    \lge{Be able to run on open operating systems like Linux.}
    }
\item \Correct{
    \lgf{Permettre de sécuriser les données qui peuvent être sensibles.}
    \lge{Allow to secure data that may be sensitive.}
    }
\item \Wrong{
    \lgf{Transmettre en permanence leur état et des valeurs mesurées.}
    \lge{Continuously transmit their status and measured values.}
    }

\end{itemize}
 }
 {
 \lgf{les objets sont généralement contraints en énergie et en capacité. Pour limiter la consommation d'énergie, il ne faut pas émettre ou recevoir tout le temps, donc la transmission en permanence des données ne va pas dans ce sens. De même, un système d'exploitation comme Linux apparait surdimensionné.}
 \lge{Objects are generally limited in energy and capacity. In order to limit energy consumption, it is not necessary to transmit or receive all the time, so the permanent transmission of data does not go in this direction. Similarly, an operating system such as Linux appears to be oversized.}
 
 }
 